(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/Search/Search"],{"202f":function(e,t,n){"use strict";n.r(t);var o=n("46f1"),c=n("2c8f");for(var i in c)"default"!==i&&function(e){n.d(t,e,(function(){return c[e]}))}(i);n("6c74");var a,r=n("f0c5"),u=Object(r["a"])(c["default"],o["b"],o["c"],!1,null,"1794d2dc",null,!1,o["a"],a);t["default"]=u.exports},"2c8f":function(e,t,n){"use strict";n.r(t);var o=n("4ef5"),c=n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t["default"]=c.a},"46f1":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o}));var o={uniSearchBar:function(){return n.e("components/uni-search-bar/uni-search-bar").then(n.bind(null,"aee3"))}},c=function(){var e=this,t=e.$createElement;e._self._c},i=[]},"4ef5":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n("66f0"),c=function(){n.e("components/uni-search-bar/uni-search-bar").then(function(){return resolve(n("aee3"))}.bind(null,n)).catch(n.oe)},i=function(){n.e("components/HistoryRecord/HistoryRecord").then(function(){return resolve(n("779b"))}.bind(null,n)).catch(n.oe)},a=function(){n.e("components/Poi/Poi").then(function(){return resolve(n("06e8"))}.bind(null,n)).catch(n.oe)},r=function(){n.e("components/PickPoint/PickPoint").then(function(){return resolve(n("4e7d"))}.bind(null,n)).catch(n.oe)},u={name:"Search",components:{uniSearchBar:c,HistoryRecord:i,Poi:a,PickPoint:r},data:function(){return{qqMap:null,searchResult:[],suggestionResult:[],placeholder:"搜索",cancelFlag:!1,hrShow:!0,keyword:null,changeFlag:!1}},props:{mapKey:{type:String,default:""},region:{type:String,default:""}},created:function(){var t=this,n=this;this.qqMap=new o({key:n.mapKey}),this.poiKey(),e.$on("poiFlag",(function(e){e&&(t.hrShow=!1)})),e.$on("positionChange",(function(e){"start"===e&&(t.placeholder="输入起点",t.changeFlag=!0)})),e.$on("closePickPoint",(function(e){t.changeFlag=e})),e.$on("reducePlaceholder",(function(e){t.placeholder="搜索"}))},methods:{input:function(e){this.keyword=e.value,""===e.value?(this.searchResult=[],this.hrShow=!0):this.hrShow=!1,this.getSuggestion(e),this.poiSearch(),"搜索"!==this.placeholder&&(this.placeholder="搜索")},search:function(e){console.log(e)},cancel:function(){e.$emit("toggleSearch",{flag:!1})},resDirect:function(t,n){this.cancelFlag=!this.cancelFlag,e.$emit("searchLc",t),e.$emit("historyRecord",n),this.changeFlag?this.changeFlag=!1:(getApp().globalData.destinationTitle=n.title,this.getLocation(n.location))},getSuggestion:function(e){var t=this;this.qqMap.getSuggestion({keyword:e.value,region:t.region,success:function(e){t.suggestionResult=e.data}})},poiSearch:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this;this.qqMap.search({keyword:n.keyword,success:function(o){n.searchResult=o.data,t&&e.$emit("circleMark",o.data)},fail:function(e){console.log(e)}})},getLocation:function(t){e.getLocation({type:"gcj02",success:function(n){getApp().globalData.startLatitude=n.latitude,getApp().globalData.startLongitude=n.longitude,getApp().globalData.endLatitude=t.lat,getApp().globalData.endLongitude=t.lng,e.$emit("routeFlag",!0)}})},poiKey:function(){var t=this;e.$on("poiKey",(function(e){t.keyword=e,t.placeholder=e,t.poiSearch(!0)}))}}};t.default=u}).call(this,n("543d")["default"])},"6c74":function(e,t,n){"use strict";var o=n("fa9c"),c=n.n(o);c.a},fa9c:function(e,t,n){}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/Search/Search-create-component',
    {
        'components/Search/Search-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("202f"))
        })
    },
    [['components/Search/Search-create-component']]
]);
